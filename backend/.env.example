# Credibility Analyzer Backend - Environment Configuration
# Copy this file to .env and update values as needed

# =============================================================================
# Server Configuration
# =============================================================================

# Port the API server listens on
# Default: 3001
PORT=3001

# Node environment (development, production, test)
# Default: development
NODE_ENV=development

# =============================================================================
# ML Service Configuration
# =============================================================================

# URL of the Python ML service for credibility analysis
# Required in production, defaults to localhost in development
# Default: http://localhost:5000
ML_SERVICE_URL=http://localhost:5000

# Timeout for ML service requests in milliseconds
# Default: 30000 (30 seconds)
ML_SERVICE_TIMEOUT_MS=30000

# Enable GPU acceleration for ML inference (requires CUDA)
# Default: false
ML_USE_GPU=false

# =============================================================================
# CORS Configuration
# =============================================================================

# Comma-separated list of allowed origins for CORS
# Default: http://localhost:3000
# Example: http://localhost:3000,https://example.com
CORS_ORIGINS=http://localhost:3000

# =============================================================================
# Rate Limiting Configuration
# =============================================================================

# Time window for rate limiting in milliseconds
# Default: 900000 (15 minutes)
RATE_LIMIT_WINDOW_MS=900000

# Maximum number of requests per window per IP
# Default: 100
RATE_LIMIT_MAX=100


# =============================================================================
# MongoDB Configuration
# =============================================================================

# MongoDB connection URI
# Supports MongoDB Atlas connection strings with TLS
# Optional: If not set, database features will be unavailable (graceful degradation)
# Format: mongodb+srv://[username]:[password]@[cluster].mongodb.net/[database]
# Get your connection string from MongoDB Atlas dashboard
MONGODB_URI=

# MongoDB connection pool size
# Default: 10
MONGODB_POOL_SIZE=10

# MongoDB read preference for replica sets
# Options: primary, primaryPreferred, secondary, secondaryPreferred, nearest
# Default: primary
MONGODB_READ_PREFERENCE=primary

# MongoDB connection timeout in milliseconds
# Default: 30000 (30 seconds)
MONGODB_CONNECT_TIMEOUT_MS=30000

# =============================================================================
# Redis Configuration
# =============================================================================

# Redis connection URI
# Supports Redis Cloud and AWS ElastiCache connection strings
# Optional: If not set, caching will use in-memory fallback (graceful degradation)
# Example: redis://localhost:6379
# Example (TLS): rediss://user:password@redis-cloud.example.com:6379
REDIS_URI=

# Enable TLS for Redis connections (required for most cloud providers)
# Default: false
REDIS_TLS=false

# Redis password for authentication
# Optional: Only needed if Redis requires authentication
REDIS_PASSWORD=

# Enable Redis Cluster mode for horizontal scaling
# Default: false
REDIS_CLUSTER_MODE=false

# Default TTL for cached items in seconds
# Default: 3600 (1 hour)
REDIS_CACHE_TTL=3600

# =============================================================================
# Queue Configuration (Async Job Processing)
# =============================================================================

# Enable async job processing via queue
# Default: false
QUEUE_ENABLED=false

# Queue backend type: 'bull' (Redis-based) or 'rabbitmq'
# Default: bull
QUEUE_TYPE=bull

# Redis host for Bull queue (if using Bull)
# Default: localhost
REDIS_HOST=localhost

# Redis port for Bull queue (if using Bull)
# Default: 6379
REDIS_PORT=6379

# RabbitMQ connection URL (if using RabbitMQ)
# Example: amqp://user:password@localhost:5672/vhost
RABBITMQ_URL=

# RabbitMQ default user (for Docker setup)
# Default: credibility
RABBITMQ_USER=credibility

# RabbitMQ default password (for Docker setup)
# Default: credibility_pass
RABBITMQ_PASS=credibility_pass

# RabbitMQ virtual host (for Docker setup)
# Default: credibility
RABBITMQ_VHOST=credibility

# =============================================================================
# Monitoring Configuration
# =============================================================================

# Sentry DSN for error tracking
# Leave empty to disable Sentry
# Get your DSN from https://sentry.io
# Required for production error tracking
SENTRY_DSN=

# Sentry environment (e.g., development, staging, production)
# Default: development
SENTRY_ENVIRONMENT=development

# Sentry release version (optional)
# Used to track which release an error occurred in
SENTRY_RELEASE=

# Sentry traces sample rate (0.0 to 1.0)
# Default: 0.1 (10% of transactions)
SENTRY_TRACES_SAMPLE_RATE=0.1

# Enable Prometheus metrics endpoint
# Default: true
PROMETHEUS_ENABLED=true

# Authentication token for metrics endpoint access
# Required when accessing /metrics from outside internal network
# Generate a secure random token for production
METRICS_AUTH_TOKEN=
